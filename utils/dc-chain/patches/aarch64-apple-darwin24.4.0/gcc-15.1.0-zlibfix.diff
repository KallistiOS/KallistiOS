diff --color -ruN gcc-15.1.0/zlib/zutil.h gcc-15.1.0/zlib/zutil-apple-clang17-fix.h
--- gcc-15.1.0/zlib/zutil.h	2023-07-27 17:13:08
+++ gcc-15.1.0/zlib/zutil-apple-clang17-fix.h	2025-06-14 21:21:37
@@ -132,15 +132,11 @@
 
 #if defined(MACOS) || defined(TARGET_OS_MAC)
 #  define OS_CODE  7
-#  ifndef Z_SOLO
-#    if defined(__MWERKS__) && __dest_os != __be_os && __dest_os != __win32_os
-#      include <unix.h> /* for fdopen */
-#    else
-#      ifndef fdopen
-#        define fdopen(fd,mode) NULL /* No fdopen() */
-#      endif
-#    endif
-#  endif
+/*
+ * Backport fix from zlib 1.3.1 where these lines
+ * redefining fdopen were removed. In Apple Clang 17
+ * these will cause errors when building zlib.
+ */
 #endif
 
 #ifdef __acorn
