diff --color -ruN binutils-2.44/zlib/zutil.h binutils-2.44/zlib/zutil-apple-clang17-fix.h
--- binutils-2.44/zlib/zutil.h	2025-02-02 09:00:00
+++ binutils-2.44/zlib/zutil-apple-clang17-fix.h	2025-06-14 21:19:21
@@ -139,15 +139,11 @@
 
 #if defined(MACOS) || defined(TARGET_OS_MAC)
 #  define OS_CODE  7
-#  ifndef Z_SOLO
-#    if defined(__MWERKS__) && __dest_os != __be_os && __dest_os != __win32_os
-#      include <unix.h> /* for fdopen */
-#    else
-#      ifndef fdopen
-#        define fdopen(fd,mode) NULL /* No fdopen() */
-#      endif
-#    endif
-#  endif
+/*
+ * Backport fix from zlib 1.3.1 where these lines
+ * redefining fdopen were removed. In Apple Clang 17
+ * these will cause errors when building zlib.
+ */
 #endif
 
 #ifdef __acorn
